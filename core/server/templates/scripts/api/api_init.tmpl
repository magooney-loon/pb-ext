{{define "api_init_js"}}
    // =============================================================================
    // APPLICATION INITIALIZATION
    // =============================================================================

    // Global initialization guard
    if (window.apiSystemInitialized) {
        return;
    }

    async function initializeApp() {
        try {
            // Initialize UI controllers
            TabController.init();
            FilterController.init();
            FormatController.init();
            APITesterSidebar.init();

            // Initialize modular API tester components
            // Note: APISchemaManager, APIFormBuilder, and APIRequestHandler
            // are utility modules that don't require initialization
            APITester.init(); // Now uses refactored modular architecture

            // Load API data
            await APILoader.loadVersions();

            // Mark as initialized
            window.apiSystemInitialized = true;
        } catch (error) {
            console.error('Failed to initialize API Documentation System:', error);
            ErrorHandler.showError('Failed to initialize the documentation system. Please refresh the page to try again.');
        }
    }

    // Start the application
    initializeApp();
{{end}}
